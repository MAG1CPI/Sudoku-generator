<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>sudoku.h</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
ï»¿// Copyright 2023 MAG1CPI
#ifndef INCLUDE_SUDOKU_H_
#define INCLUDE_SUDOKU_H_

#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include "../include/sudoku_board.h"

class Sudoku {
 private:
    SudokuBoard games;
    SudokuBoard result;

    // æ°ç¬æ±è§£è¾å©æ°æ®ç»æ
    struct State {
        int row[9];
        int col[9];
        int block[9];
<span style = "background-color:#dfd">        void flip(int i, int j, int num) {
            row[i] ^= (1 &lt;&lt; num);
            col[j] ^= (1 &lt;&lt; num);
            block[(i / 3) * 3 + j / 3] ^= (1 &lt;&lt; num);
        }</span>
    } state;
    std::vector&lt;std::pair&lt;int, int&gt;&gt; blanks;

 public:
    Sudoku();
    ~Sudoku();

    int gen_endgames(int num);
    int gen_games(int num, int level, int min_hole_num, int max_hole_num, bool is_unique);
    int solve_games_and_save_results(std::string path);
    int save_games(std::string path);

 private:
    // ç»å±çæè¾å©å½æ°
    void gen_endgame(Board* board);
    void random_row_permutation(char* row);
    void row_col_extend(Board* board, int x, int y, int is_row);

    // æ°ç¬æ±è§£è¾å©å½æ°
    bool solve_game(Board* board, bool is_unique);
    void init_state(Board* board);
    bool solve_by_dfs(Board* board, int i, bool is_unique);

    // æ°ç¬çæè¾å©å½æ°
    void set_hole_num_range(int level, int* min_hole_num, int* max_hole_num);
    bool dig_hole(Board* board, int hole, bool is_unique);
};

#endif  // INCLUDE_SUDOKU_H_</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>