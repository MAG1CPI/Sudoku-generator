<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>sudoku_board.cc</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
ï»¿// Copyright 2023 MAG1CPI
#include &lt;cstring&gt;
#include &lt;fstream&gt;
#include &lt;iostream&gt;
#include "../include/sudoku_board.h"

static const char kSeparation[] = "-----------------";

<span style = "background-color:#dfd">SudokuBoard::SudokuBoard() {
    boards.clear();
}</span>

<span style = "background-color:#dfd">SudokuBoard::~SudokuBoard() {
}</span>

<span style = "background-color:#dfd">int SudokuBoard::load(std::string path) {
    std::ifstream infile;
    infile.open(path);
    if (!infile.is_open()) {
        std::cout &lt;&lt; "æ æ³æå¼æä»¶!\n";
        exit(-1);</span>
    }

<span style = "background-color:#dfd">    boards.clear();</span>

    char line[128];
<span style = "background-color:#dfd">    Board board;
    std::vector&lt;char&gt; row;
    while (!infile.eof()) {
        infile.getline(line, 128);
        int len = strlen(line);
        if (len == 0) {
            continue;</span>
        }
<span style = "background-color:#dfd">        if (line[0] == '-') {
            if (board.size() != 9) {
                std::cout &lt;&lt; "è¯»åæä»¶éè¯¯, è¯·ç¡®ä¿æ°ç¬æ¸¸æç¬¦åæ ¼å¼!\n";
                infile.close();
                exit(-1);</span>
            }
<span style = "background-color:#dfd">            boards.push_back(board);
            board.clear();
        } else {
            row.clear();
            for (int i = 0; i != len; i++) {
                if (line[i] != ' ') {
                    if (line[i] != '$' &amp;&amp; (line[i] &lt; '1' || line[i] &gt; '9')) {
                        std::cout &lt;&lt; "è¯»åå°éæ³å­ç¬¦, è¯·ç¡®ä¿æ°ç¬æ¸¸æç¬¦åæ ¼å¼!\n";
                        infile.close();
                        exit(-1);</span>
                    }
<span style = "background-color:#dfd">                    row.push_back(line[i]);</span>
                }
<span style = "background-color:#dfd">            }
            if (row.size() != 9) {
                std::cout &lt;&lt; "è¯»åæä»¶éè¯¯, è¯·ç¡®ä¿æ°ç¬æ¸¸æç¬¦åæ ¼å¼!\n";
                infile.close();
                exit(-1);</span>
            }
<span style = "background-color:#dfd">            board.push_back(row);</span>
        }
<span style = "background-color:#dfd">    }</span>

<span style = "background-color:#dfd">    infile.close();
    return 0;
}</span>

<span style = "background-color:#dfd">int SudokuBoard::save(std::string path) {
    std::ofstream outfile;
    outfile.open(path);
    if (!outfile.is_open()) {</span>
<span style = "background-color:#fdd">        std::cout &lt;&lt; "æ æ³æå¼æä»¶!\n";
        exit(-1);</span>
    }

<span style = "background-color:#dfd">    for (int k = 0; k &lt; boards.size(); k++) {
        for (int i = 0; i &lt; 9; i++) {
            for (int j = 0; j &lt; 9; j++) {
                outfile &lt;&lt; boards[k][i][j] &lt;&lt; " ";
            }
            outfile &lt;&lt; "\n";
        }
        outfile &lt;&lt; kSeparation &lt;&lt; "board[" &lt;&lt; k + 1 &lt;&lt; "]\n";
    }</span>

<span style = "background-color:#dfd">    outfile.close();
    return 0;
}</span>

<span style = "background-color:#dfd">void SudokuBoard::output() {
    for (int k = 0; k &lt; boards.size(); k++) {
        for (int i = 0; i &lt; 9; i++) {
            for (int j = 0; j &lt; 9; j++) {
                std::cout &lt;&lt; boards[k][i][j] &lt;&lt; " ";
            }
            std::cout &lt;&lt; "\n";
        }
        std::cout &lt;&lt; kSeparation &lt;&lt; "board[" &lt;&lt; k + 1 &lt;&lt; "]\n";
    }
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>