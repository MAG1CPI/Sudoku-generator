# 数独生成及求解器用户手册

## 1 引言

### 1.1 编写目的

该手册是为了方便用户更好地了解和使用数独生成及求解器 `sudoku.exe`，阐明如何使用（包括从源代码构建可执行程序和直接使用可执行程序）[数独生成及求解器](https://github.com/MAG1CPI/Sudoku-generator)，向用户解释该程序的作用或在必要时作为参考 。

预期的读者为数独生成及求解器用户及数独生成及求解器的开发测试人员。



### 1.2 背景

- 开发软件名称：数独生成及求解器
- 软件任务提出者：软件工程课程作业
- 软件开发者：1913632-曾兀及1910842-苗泽昀
- 产品用户：数独生成及求解器用户及该软件的任务提出者、开发者 。



## 2 用途

该数独生成及求解器 `sudoku.exe` 的功能包括：

- 生成数独终局并保存：用户可以使用该程序生成数独终局并保存到当前目录下的 `endgame.txt` 文本文件中，生成的终局盘数可选择。
- 生成数独游戏并保存：用户可以使用该程序生成数独游戏并保存到当前目录下的 `game.txt` 文本文件中，生成的游戏盘数、游戏难度、挖空数量和是否解唯一都可选择。
- 解答数独游戏：用户可以使用该程序从指定文件中读取指定格式的数独游戏文件，并给出正确的解答，找到所有的解法，最后通过命令行形式以及文件形式输出解答。其中每一个数独游戏的解都会以一个单独的文件输出，即每个输出文件包括输入文件中一个数独游戏的所有解。



## 3 运行环境

平台：64-bit Windows 10 及以上

如果用户选择自己从源代码进行编译得到可执行文件，那么还需要安装 `gcc/g++` 编译器（gcc version 8.1.0 及以上）来进行源代码的编译。



## 4 使用说明

如果用户选择直接使用已经编译好的数独生成及求解器可执行程序 `sudoku.exe` ，那么直接按照下文中的参数说明表格，在 powershell 或 cmd 等 Windows 命令行环境下直接执行该可执行文件即可。

如果用户选择自己从源代码编译，那么还需要按照运行环境中对编译器的要求安装对应版本的 `gcc` 编译器，并按照下属源代码编译的步骤编译数独生成及求解器可执行程序 `sudoku.exe`，再在 powershell 或 cmd 等 Windows 命令行环境下直接执行该可执行文件。



**源代码编译**

通过[项目Github仓库](https://github.com/MAG1CPI/Sudoku-generator)下载项目源代码后，进入项目文件夹，执行

`g++ -I .\include .\src\*.cc -o .\bin\sudoku.exe -fexec-charset=GBK`

命令，即可在 `.\bin` 下得到 `sudoku.exe` 可执行文件。



**选项及参数说明表格**

| 选项及参数   | 意义                                          | 使用限制                                                     | 用法示例*                                                    |
| ------------ | --------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| `-c N`       | 生成 `N` 个数独终盘                           | 参数 `N` 的范围为：1~1000000                                 | sudoku.exe -c 20<br />[表示生成20个数独终盘]                 |
| `-s PATH`    | 从路径 `PATH` 读取需要求解的数独游戏**        | 参数 `PATH` 为绝对路径或相对路径                             | sudoku.exe -s game.txt<br />[表示从game.txt读取若干个数独游戏，并给出其解答] |
| `-n N`       | 生成 `N` 个数独游戏                           | 参数 `N` 的范围为：1~10000                                   | sudoku.exe -n 1000<br />[表示生成1000个数独游戏]             |
| `-m LEVEL`   | 生成的数独游戏难度为 `LEVEL`                  | `-n` 选项是使用该选项的前提<br />参数 `LEVEL` 的范围为：1~3，数字越大难度越大 | sudoku.exe -n 1000 -m 1<br />[表示生成1000个简单数独游戏]    |
| `-r MIN~MAX` | 生成的数独游戏中空格数量范围为 `MIN` 到 `MAX` | `-n` 选项是使用该选项的前提<br />当同时出现 `-r` 选项和 `-m` 选项时，以 `-m` 选项为准<br />参数 `MIN` 和 `MAX` 的范围为：20~55 | sudoku.exe -n 20 -r 20~55<br />[表示生成20个挖空数在20到55之间的数独游戏] |
| `-u`         | 生成的数独游戏解唯一                          | `-n` 选项是使用该选项的前提                                  | sudoku.exe -n 20 -u<br />[表示生成20个解唯一的数独游戏]      |

**\*注：**用法示例中的命令均是在 `sudoku.exe` 所在目录下执行的。

**\*\*注：**对于需要求解的数独游戏文件，文件中每个数独游戏满足如下格式：

* 一个数独游戏包括 10 行，前 9 行为数独游戏内容行，最后一行为分隔行。

* 数独游戏内容行每行最多128个字符，其中包括 9 个有效字符，它们可以是：

  * 数字 `1` ~ `9`
  * `$`（表示需要进行求解填充的空格）

  每两个有效字符之间可以由若干个空格分隔。

* 分隔行至少包含一个 `-`，并且以 `-` 开始。其后可跟随任意注释，不影响读取数独游戏。

* 空行将被忽略。

示例文件：

```
$ $ $ 3 6 $ 4 $ $ 
$ 2 3 $ 9 $ 7 8 5 
$ $ 4 7 8 5 $ $ 2 
$ 7 8 $ $ 6 $ 4 $ 
2 $ $ $ 4 $ 5 $ $ 
1 $ 9 5 7 8 $ 3 $ 
$ 8 $ 6 2 3 $ 1 4 
$ 6 2 9 $ $ $ $ 7 
4 $ $ 8 $ $ $ $ 3 
-----------------board[1]
7 $ $ $ $ $ 6 8 9 
$ $ $ $ $ $ 7 $ $ 
$ $ 9 2 $ 1 $ 5 $ 
$ 2 $ $ 4 $ $ $ 6 
$ $ 3 $ 9 6 1 $ 7 
8 $ $ $ $ $ $ $ $ 
$ $ $ 3 $ $ $ $ $ 
4 $ 5 $ $ 9 $ $ 1 
9 $ $ 7 $ $ $ 3 5 
-----------------board[2]
```

